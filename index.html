<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rottweiler Race</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            background: linear-gradient(to bottom, #2c2c2c, #1a1a1a);
            font-family: Arial, sans-serif;
        }
        .track {
            position: relative;
            width: 100%;
            height: 100px;
            margin: 10px 0;
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid #444;
        }
        .rottweiler {
            position: absolute;
            top: 10%;
        }
        .name-tag {
            position: absolute;
            top: 5px;
            left: 5px;
            color: white;
            font-weight: bold;
            text-shadow: 1px 1px 2px black;
        }
    </style>
</head>
<body>
    <div id="app"></div>
    <script>
        const app = document.getElementById('app');
        app.style.background = "linear-gradient(to bottom, #2c2c2c, #1a1a1a)"; // Adding a dark gray gradient background
        app.style.height = "100vh";
        app.style.margin = "0";
        app.style.overflow = "hidden";

        const totalTracks = 20;
        const rottweilers = [
            'rottweiler1.png',
            'rottweiler2.png',
            'rottweiler3.png',
            'rottweiler4.png',
            'rottweiler5.png'
        ];

        const names = [
            'Rocky', 'Bella', 'Max', 'Luna', 'Duke', 'Charlie', 'Molly', 'Buddy', 'Daisy', 'Jack',
            'Sophie', 'Oliver', 'Chloe', 'Teddy', 'Maggie', 'Cooper', 'Lucy', 'Jake', 'Ruby', 'Oscar'
        ]; // Add up to 20 names

        function createTrack(index, scaleFactor) {
            const track = document.createElement('div');
            track.classList.add('track');

            const rottweiler = document.createElement('img');
            rottweiler.src = rottweilers[index % rottweilers.length];
            rottweiler.classList.add('rottweiler');
            rottweiler.style.left = '0';

            const size = `${100 * scaleFactor}px`;
            rottweiler.style.width = size;
            rottweiler.style.height = size;

            const nameTag = document.createElement('div');
            nameTag.classList.add('name-tag');
            nameTag.textContent = names[index] || `Rottweiler ${index + 1}`;

            track.appendChild(rottweiler);
            track.appendChild(nameTag);
            app.appendChild(track);
        }

        const scaleFactor = Math.min(1.5, 5 / totalTracks); // Adjust scale based on the number of participants

        for (let i = 0; i < totalTracks; i++) {
            createTrack(i, scaleFactor);
        }

        function startRace() {
            const rottweilerElements = document.querySelectorAll('.rottweiler');

            rottweilerElements.forEach(rottweiler => {
                const raceTime = Math.random() * 5 + 5; // 5 to 10 seconds
                const keyframes = [
                    { transform: 'translateX(0)' },
                    { transform: `translateX(calc(100% - 50px))` }
                ];
                const timing = {
                    duration: raceTime * 1000,
                    easing: 'cubic-bezier(0.42, 0, 0.58, 1)' // Smooth easing
                };
                rottweiler.animate(keyframes, timing);

                setTimeout(() => {
                    rottweiler.style.transform = `translateX(calc(100% - 50px))`;
                }, raceTime * 1000);
            });

            setTimeout(() => {
                const rottweilerElementsArray = Array.from(rottweilerElements);
                const winner = rottweilerElementsArray.sort((a, b) => {
                    const aLeft = a.getBoundingClientRect().left;
                    const bLeft = b.getBoundingClientRect().left;
                    return bLeft - aLeft;
                })[0];

                const winnerIndex = rottweilerElementsArray.indexOf(winner);
                alert(`The winner is ${names[winnerIndex] || `Rottweiler ${winnerIndex + 1}`}!`);
            }, 11000);
        }

        setTimeout(startRace, 2000);
    </script>
</body>
</html>
